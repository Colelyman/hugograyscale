<section id="{{ .Scratch.Get "listen" }}" class="content-section text-center listen">
    <div class="container">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <h2>{{- default "" .Params.listen.header | safeHTML -}}</h2>
            {{- range $i, $link := .Params.listen.links -}}
                {{- if (modBool $i 2) -}} {{/* Open row if even */}}
                    <div class="row justify-content-center">
                {{- end -}}
                        <script type="text/javascript">
                            document.addEventListener('DOMContentLoaded', function() {
                                getSoundCloudEmbed({{- $link -}}, {{- $i -}})
                            }, false)
                        </script>
                        <div class="col-md-6 col-sm-12">
                            <h3 id="soundcloud-title-{{- $i -}}"></h3>
                            <div id="soundcloud-{{- $i -}}" class="soundcloud"></div>
                        </div>
                {{- if not (modBool $i 2) -}} {{/* Close row if odd */}}
                    </div>
                {{- end -}}
            {{- end -}}
            {{- if not (modBool (len .Params.listen.links) 2) -}}
                </div>
            {{- end -}}
        </div>
    </div>
    </div>
</section>
